# Copy this file to .env and fill in the values

# ============================================
# API GATEWAY (Interactive Brokers)
# ============================================
GATEWAY_PORT=5055
GATEWAY_ENDPOINT=/v1/api
GATEWAY_TEST_ENDPOINT=/v1/api/iserver/account/orders
GATEWAY_INTERNAL_BASE_URL=https://host.docker.internal

# TICKER (Keeps the session alive)
TICKLE_INTERVAL=60
TICKLE_BASE_URL=https://host.docker.internal:5055/v1/api
TICKLE_ENDPOINT=/tickle

# ============================================
# MCP SERVER (Interactive Brokers)
# ============================================
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_BASE_URL=https://localhost
MCP_SERVER_INTERNAL_BASE_URL=https://host.docker.internal
MCP_SERVER_PORT=5002
MCP_SERVER_PATH=/mcp
MCP_SERVER_LOG_LEVEL=info
MCP_TRANSPORT_PROTOCOL=streamable-http
MCP_DEV_MODE=false

# ROUTERS_GENERATOR
OPEN_API_SPEC_URL=https://api.ibkr.com/gw/api/v3/api-docs
OPENAPI_FILE_PATH=openapi.json
INCLUDED_TAGS="Alerts,Contract,Events Contracts,FA Allocation Management,FYIs & Notifications,Market Data,Options Chains,Order Monitoring,Orders,Portfolio,Portfolio Analyst,Scanner,Session,Watchlists,Authorization Token,Account Management Reports"
# NOTE: Remove "Orders" from EXCLUDED_TAGS to allow telegram_bot to place orders via MCP
EXCLUDED_TAGS="Options Chains, FA Allocation Management"

# ============================================
# MCP MARKET DATA (yfinance)
# ============================================
MCP_MARKET_DATA_PORT=5003

# ============================================
# MCP SENTIMENT (Reddit + StockTwits)
# ============================================
MCP_SENTIMENT_PORT=5004

# Reddit API (https://www.reddit.com/prefs/apps)
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USER_AGENT=mcp-sentiment/0.1

# ============================================
# MCP NEWS (Finnhub + RSS)
# ============================================
MCP_NEWS_PORT=5005

# Finnhub API (https://finnhub.io/)
FINNHUB_API_KEY=your_finnhub_api_key

# RSS feeds (comma-separated URLs, optional)
# RSS_FEEDS=https://feeds.finance.yahoo.com/rss/2.0/headline?region=US&lang=en-US,https://feeds.marketwatch.com/marketwatch/topstories/

# ============================================
# TELEGRAM BOT (Orchestrator)
# ============================================
TELEGRAM_BOT_PORT=5010
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id
ANTHROPIC_API_KEY=your_anthropic_api_key
IB_ACCOUNT_ID=your_ib_account_id

# Safety Guards
MAX_ORDER_VALUE_USD=10000
MAX_DAILY_ORDERS=10
MAX_DAILY_LOSS_USD=2000
MAX_POSITION_PCT=25

# Scheduler (minutes)
PORTFOLIO_SCAN_INTERVAL_MINUTES=60
MARKET_SCAN_INTERVAL_MINUTES=30

# Claude model
CLAUDE_MODEL=claude-sonnet-4-5-20250929

# Database
DB_PATH=/data/trading.db
